<app-spinner *ngIf="loading" [coverPage]="true"></app-spinner>
<table class="table table-striped table-sm">
  <thead>
    <tr>
      <th scope="col">時刻</th>
      <th scope="col">メッセージ</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let alarm of alarms">
      <td class="alarm-time">
        <div *ngIf="!alarm.editing; else editTimeBlock">{{alarm.time}}</div>
        <ng-template #editTimeBlock>
          <input [(ngModel)]="alarm.time" required type="time" class="form-control"
            id="time" name="time">
        </ng-template>
      </td>
      <td class="alarm-message">
        <div *ngIf="!alarm.editing; else editMessageBlock">{{alarm.message}}</div>
        <ng-template #editMessageBlock>
          <input [(ngModel)]="alarm.message" required type="text" class="form-control"
            id="message" name="message">
        </ng-template>
      </td>
      <td class="alarm-action text-right">
        <i class="material-icons" (click)="toggleEditing(alarm, alarms)">create</i>
        <i class="material-icons" (click)="removeAlarm(alarm.id)">close</i>
      </td>
    </tr>
  </tbody>
</table>
